webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r=n("//Fk"),a=n.n(r),i=n("mvHQ"),s=n.n(i),u={apiUrl:"http://localhost:9080/todos"},d=n("7t+N"),c=n.n(d),l={createTodo:function(t){var e={method:"POST",headers:{"Content-Type":"application/json"},body:s()(t),mode:"cors"};return fetch(""+u.apiUrl,e).then(p).then(function(t){return t})},deleteTodo:function(t){var e=""+u.apiUrl+t;return fetch(e,{method:"DELETE"}).then(function(t){return t.status})},getTodo:function(t){var e=""+u.apiUrl+t;return fetch(e,{method:"GET"}).then(p).then(function(t){return t})},getTodos:function(t,e,n){var o=u.apiUrl+"?"+c.a.param({state:t,limit:e,offset:n});return fetch(o,{method:"GET",mode:"cors"}).then(p).then(function(t){return t})},updateTodo:function(t){var e={method:"PUT",body:s()(t)};return fetch(""+u.apiUrl,e).then(function(t){return t.status})}};function p(t){return t.text().then(function(e){var n=e&&JSON.parse(e);if(!t.ok){401===t.status&&location.reload(!0);var o=n&&n.message||t.statusText;return a.a.reject(o)}return n})}var f={computed:{submitText:function(){return this.busy?"Submitting&hellip;":"Add todo"},todosSortedByDate:function(){return this.todos.sort(function(t,e){return t.id.localeCompare(e.id)})}},data:function(){return{busy:!1,loading:!0,name:"",todos:[]}},methods:{addTodo:function(){var t=this;this.busy=!0,l.createTodo().then(function(){t.busy=!1,t.name="",t.$refs.name.focus()})},loadTodos:function(){var t=this;l.getTodos("all",5,0).then(function(e){t.todos=e,t.loading=!1})},removeTodo:function(t,e){var n="Are you sure you wish to remove "+t.id+" from this list?";console.log(n)}},mounted:function(){this.loadTodos()},props:{action:{required:!0,type:String}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"wrapper-list-main"},[n("h2",[t._v("Klex")]),t._v(" "),t.loading?n("p",[t._v("Loading…")]):n("div",[n("ul",{staticClass:"list-inline"},t._l(t.todosSortedByDate,function(e,o){return n("li",{key:e.id,staticClass:"list-inline-item"},[n("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(n){return n.preventDefault(),t.removeTodo(e,o)}}},[n("span",{staticClass:"btn-text"},[t._v(t._s(e.id))]),t._v(" "),n("span",{staticClass:"btn-icon",attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"name",staticClass:"form-control",attrs:{type:"text",autocomplete:"name",required:"",disabled:t.busy},domProps:{value:t.name},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addTodo(e))},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.busy},on:{click:function(e){return e.preventDefault(),t.addTodo(e)}}},[n("span",{staticClass:"btn-text",domProps:{innerHTML:t._s(t.submitText)}})])])])])])])])},staticRenderFns:[]};var v={name:"App",components:{TodosList:n("VU/8")(f,m,!1,function(t){n("O8Bn")},"data-v-9ec32dc2",null).exports}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"app"}})},staticRenderFns:[]};var b=n("VU/8")(v,h,!1,function(t){n("f/0i")},null,null).exports,T=n("e6fC"),y=n.n(T);o.a.use(y.a),o.a.config.productionTip=!1,new o.a({el:"#app",components:{App:b},template:"<App/>"})},O8Bn:function(t,e){},"f/0i":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a93555baac5f2744c9ca.js.map